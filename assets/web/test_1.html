<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>range3</title>
    <!-- <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script> -->
    <!-- <script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js"></script> -->
    <!-- <link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.2/summernote.css" rel="stylesheet">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.2/summernote.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/handlebars.js/2.0.0/handlebars.js"></script> -->
    <script src="./js/jquery.js"></script>
    <link href="./css/bootstrap.css" rel="stylesheet">
    <script src="./js/bootstrap.js"></script>
    <script src="./js/paigusu.js"></script>
    <script src="./js/summernote_v9_2.js"></script>
    <script src="./js/summernote-zh-CN.js"></script>
    <link href="./css/summernote.css" rel="stylesheet">
    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/summernote/0.8.9/summernote.js"></script> -->
    <!-- <link href="./cssTemp/summernote.css" rel="stylesheet"> -->
    <script src="./js/qwebchannel.js"></script>
    <script src="./js/handlebars.js"></script>
    <link href="./index.css" rel="stylesheet">
    <link href="./css/reset.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/bootstrapCssReset.css">
    <style>
        body {
            margin: 0;
        }

        .test {
            width: 50px;
            height: 50px;
            background-color: burlywood;
            border: 5px solid rgba(0, 0, 0, 0.2);
        }
    </style>
</head>

<body>

    <!-- <script src="./index.js"></script> -->
    <!-- <div class="test"></div> -->
    <button class="paigusuBut">11</button>

    <div id="summernote">
        <p>字号、加粗、</p>
        <p>字号、加粗、</p>
        <p>字号、加粗、</p>
        <p>字号、加粗、</p>
        <p>字号、加粗、</p>
        <p>字号、加粗、</p>
        <p>字号、加粗、</p>
        <p>字号、加粗、</p>

    </div>
  
    <script>

        let options = {
            lang: 'zh-CN',
            popover: {
                air: [
                    ['fontsize', ['fontsize']],
                    ['forecolor', ['forecolor']],
                    ['backcolor', ['backcolor']],
                    ['bold', ['bold']],
                    ['italic', ['italic']],
                    ['underline', ['underline']],
                    ['strikethrough', ['strikethrough']],
                    ['ul', ['ul']],
                    ['ol', ['ol']],

                ]
            },
            // direction: 'top',
            airMode: true,
            // dialogsInBody: true

        }
        $(document).ready(function () {
            // var domObj = $('.voiceBoxPoa');

            let html = ` 
                    <div class="voiceBox"  contentEditable='false'>
                        <div class="playImgBg">
                            <img src="./summernote-0.8.18-dist/img/play.svg" data-isPlayFlag='false' alt="">
                        </div>
                        <div>
                            <div>语音3</div>
                            <div class="timeBox">2021-08-02 12:21</div>
                        </div>
                        <div class="lengthBox">
                            <div class="flashVoice">
                                <img src="./summernote-0.8.18-dist/img/play_voice1.svg" alt="">
                            </div>
                            <div class="longBox">
                                20'20'
                            </div>
                        </div>
                    </div>`;
            var div = document.createElement('div')
            var div1 = document.createElement('div')

            div.innerHTML = html;

            $('#summernote').summernote(options);
            // $("body").append(div1);
            // $(div1).summernote(options);
            // $("body").append(div);
            // $('html').append(html)
        });
        $('.paigusuBut').on('click', function () {
            $('body').append('<button class="paigusu">11</button>')
            $('.paigusu').paigusu({
                color: '#1926dc',//初始色  
            }, function (event, obj) {
                console.log(event);
                console.log(obj);
                $(event).css('color', '#' + obj.hex)
            });
        })
        // 鼠标右键事件
        // $('body').on('contextmenu', function (e) {
        //     e.preventDefault()
        //     // e.stopPropagation();

        //     $('#summernote').summernote('airPopover.rightUpdate')

        //     var sel = window.getSelection();
        //     sel.removeAllRanges();

        // })
        $('.icon-strikethrough').css({
            "color": '#000'
        })
        $('.icon-forecolor .path2').addClass('lightColor')
        // 判断是否为空
        function isNoteNull() {
            return $('.note-editable').html() === '<p><br></p>'
        }
        // 监听键盘删除事件
        $('body').on('keydown', function (e) {
            if (e.keyCode == 8 && isNoteNull()) {
                e.preventDefault()
            }

        })
        $('#saveHtml').on('click', saveHtml)
        function saveHtml() {
            console.log(document.documentElement.outerHTML)
        }


    </script>
</body>

<link rel="stylesheet" href="./css/style.css">

</html>